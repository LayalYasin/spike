import sys
sys.path.append("..")

from unittest import TestCase, main
from scripts.parse_samplesheet import *

class ParseSamplesheetTests(TestCase):
    def test_get_fastq_filenames(self):
        exp = ["Undetermined_S0_L001_R1_001.fastq.gz",
               "Undetermined_S0_L001_R2_001.fastq.gz",
               "AG_Remke/Chri_3/297_S1_L001_R1_001.fastq.gz",
               "AG_Remke/Chri_3/297_S1_L001_R2_001.fastq.gz",
               "AG_Remke/Chri_4/298_S2_L001_R1_001.fastq.gz",
               "AG_Remke/Chri_4/298_S2_L001_R2_001.fastq.gz",
               "AG_Remke/NPTH_17/299_S3_L001_R1_001.fastq.gz",
               "AG_Remke/NPTH_17/299_S3_L001_R2_001.fastq.gz",
               "AG_Remke/NPTH_18/300_S4_L001_R1_001.fastq.gz",
               "AG_Remke/NPTH_18/300_S4_L001_R2_001.fastq.gz",
               "AG_Remke/CLIS_10/277_S5_L002_R1_001.fastq.gz",
               "AG_Remke/CLIS_10/277_S5_L002_R2_001.fastq.gz",
               "AG_Remke/CLIS_17/278_S6_L002_R1_001.fastq.gz",
               "AG_Remke/CLIS_17/278_S6_L002_R2_001.fastq.gz",
               "AG_Remke/CLIS_8_b/279_S7_L002_R1_001.fastq.gz",
               "AG_Remke/CLIS_8_b/279_S7_L002_R2_001.fastq.gz",
               "AG_Remke/CLIS_13_b/280_S8_L002_R1_001.fastq.gz",
               "AG_Remke/CLIS_13_b/280_S8_L002_R2_001.fastq.gz",
               "AG_Remke/CLIS_21/272_S22_L007_R1_001.fastq.gz",
               "AG_Remke/CLIS_21/272_S22_L007_R2_001.fastq.gz",
               "AG_Remke/CLIS_22/273_S23_L007_R1_001.fastq.gz",
               "AG_Remke/CLIS_22/273_S23_L007_R2_001.fastq.gz",
               "AG_Remke/CLIS_23/274_S24_L007_R1_001.fastq.gz",
               "AG_Remke/CLIS_23/274_S24_L007_R2_001.fastq.gz",
               "AG_Remke/NPTH_1/281_S25_L007_R1_001.fastq.gz",
               "AG_Remke/NPTH_1/281_S25_L007_R2_001.fastq.gz",
               "AG_Remke/CLIS_1/263_S26_L008_R1_001.fastq.gz",
               "AG_Remke/CLIS_1/263_S26_L008_R2_001.fastq.gz",
               "AG_Remke/CLIS_2/264_S27_L008_R1_001.fastq.gz",
               "AG_Remke/CLIS_2/264_S27_L008_R2_001.fastq.gz",
               "AG_Remke/CLIS_5/265_S28_L008_R1_001.fastq.gz",
               "AG_Remke/CLIS_5/265_S28_L008_R2_001.fastq.gz",
               "AG_Remke/CLIS_24/275_S29_L008_R1_001.fastq.gz",
               "AG_Remke/CLIS_24/275_S29_L008_R2_001.fastq.gz",
               "Undetermined_S0_L002_R1_001.fastq.gz",
               "Undetermined_S0_L002_R2_001.fastq.gz",
               "Undetermined_S0_L003_R1_001.fastq.gz",
               "Undetermined_S0_L003_R2_001.fastq.gz",
               "Undetermined_S0_L004_R1_001.fastq.gz",
               "Undetermined_S0_L004_R2_001.fastq.gz",
               "Undetermined_S0_L005_R1_001.fastq.gz",
               "Undetermined_S0_L005_R2_001.fastq.gz",
               "Alps/ALPS_66_S17_L005_R1_001.fastq.gz",
               "Alps/ALPS_66_S17_L005_R2_001.fastq.gz",
               "Alps/ALPS_66_a_S18_L005_R1_001.fastq.gz",
               "Alps/ALPS_66_a_S18_L005_R2_001.fastq.gz",
               "Alps/ALPS_66_b_S19_L005_R1_001.fastq.gz",
               "Alps/ALPS_66_b_S19_L005_R2_001.fastq.gz",
               "Alps/ALPS_66_S17_L006_R1_001.fastq.gz",
               "Alps/ALPS_66_S17_L006_R2_001.fastq.gz",
               "Alps/ALPS_66_a_S18_L006_R1_001.fastq.gz",
               "Alps/ALPS_66_a_S18_L006_R2_001.fastq.gz",
               "Alps/ALPS_66_b_S19_L006_R1_001.fastq.gz",
               "Alps/ALPS_66_b_S19_L006_R2_001.fastq.gz",
               "Fischer_Geron/F49_S20_L005_R1_001.fastq.gz",
               "Fischer_Geron/F49_S20_L005_R2_001.fastq.gz",
               "Fischer_Geron/42_S21_L005_R1_001.fastq.gz",
               "Fischer_Geron/42_S21_L005_R2_001.fastq.gz",
               "Fischer_Geron/F49_S20_L006_R1_001.fastq.gz",
               "Fischer_Geron/F49_S20_L006_R2_001.fastq.gz",
               "Fischer_Geron/42_S21_L006_R1_001.fastq.gz",
               "Fischer_Geron/42_S21_L006_R2_001.fastq.gz",
               "Undetermined_S0_L006_R1_001.fastq.gz",
               "Undetermined_S0_L006_R2_001.fastq.gz",
               "Undetermined_S0_L007_R1_001.fastq.gz",
               "Undetermined_S0_L007_R2_001.fastq.gz",
               "Undetermined_S0_L008_R1_001.fastq.gz",
               "Undetermined_S0_L008_R2_001.fastq.gz",
               'Maus_Hauer/286C_S9_L003_R1_001.fastq.gz',
               'Maus_Hauer/286C_S9_L003_R2_001.fastq.gz',
               'Maus_Hauer/286T_S10_L003_R1_001.fastq.gz',
               'Maus_Hauer/286T_S10_L003_R2_001.fastq.gz',
               'Maus_Hauer/287C_S11_L003_R1_001.fastq.gz',
               'Maus_Hauer/287C_S11_L003_R2_001.fastq.gz',
               'Maus_Hauer/287T_S12_L003_R1_001.fastq.gz',
               'Maus_Hauer/287T_S12_L003_R2_001.fastq.gz',
               'Maus_Hauer/288C_S13_L004_R1_001.fastq.gz',
               'Maus_Hauer/288C_S13_L004_R2_001.fastq.gz',
               'Maus_Hauer/288T_S14_L004_R1_001.fastq.gz',
               'Maus_Hauer/288T_S14_L004_R2_001.fastq.gz',
               'Maus_Hauer/291C_S15_L004_R1_001.fastq.gz',
               'Maus_Hauer/291C_S15_L004_R2_001.fastq.gz',
               'Maus_Hauer/291T_S16_L004_R1_001.fastq.gz',
               'Maus_Hauer/291T_S16_L004_R2_001.fastq.gz']

        obs = get_fastq_filenames('tests/data/180614_SN737_0438_BCC7MCACXX_ukd.csv')
        self.assertTrue(set(exp) ^ set(obs) == set())


if __name__ == '__main__':
    main()
